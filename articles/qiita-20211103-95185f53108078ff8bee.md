---
title: "ä¸­è¯EtherCAT ã‚¹ãƒ¬ãƒ¼ãƒ–ã‚’è²·ã£ã¦ã¿ãŸ ãã®1"
emoji: "ğŸ˜€"
type: "tech"
topics: [PLC,Ethercat,TwinCAT]
published: false
---

Aliexpressã§ã¾ãŸå¤‰ãªç‰©ã‚’è²·ã£ã¦ã—ã¾ã£ãŸorz(1.8ä¸‡)
TwinCAT3ã‚’å‹‰å¼·ã™ã‚‹ã®ã«ä½•ã‹EtherCATã‚¹ãƒ¬ãƒ¼ãƒ–ãŒæ¬²ã—ãæ¢ã—ã¦ã¿ãŸã‘ã©ä¸­å¤ã§ã‚‚ã‚ˆã„å€¤æ®µãªã®ã§ã€‚
ã“ã“ã¯ãƒ–ãƒ­ã‚°ã®ãƒã‚¿ã«ã‚‚ãªã‚‹ã®ã§ä¸­è¯è£½å“ã«æ‰‹ã‚’å‡ºã—ã¦ã¿ãŸã€‚
ãªãŠTwinCAT3ã‚‚EtherCATã‚‚å…¨ãã‚ˆãã‚ã‹ã‚‰ã‚“ã§ã™ã€‚ã“ã‚Œã‹ã‚‰å‹‰å¼·ã™ã‚‹ã®ã§ã€‚

https://aliexpress.com/item/4000898527207.html

EtherCat IOãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« IN:16/OUT:16/AI:2/AO:2/ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼/CAN/RS-485ã€€ã¨ã„ã†è±ªè¯ä»•æ§˜ï¼ˆä½¿ãˆã‚‹ã‹ã¯ã—ã‚‰ã‚“ï¼‰
ã©ã“ã®ãƒ¡ãƒ¼ã‚«ãªã®ã‹å…¨ããƒ­ã‚´ã‚‚ãªãã‚ã‹ã‚‰ãªã„ã§ã™ãŒInexbotã¨ã„ã†ä¸­è¯ç”£æ¥­ç”¨ãƒ­ãƒœãƒƒãƒˆã‚’ä½œã£ã¦ã‚‹ä¼šç¤¾ã®ã¨ã“ã‚ã«èª¬æ˜æ›¸ãŒã‚ã‚Šã¾ã—ãŸã€‚
ãƒ­ãƒœãƒƒãƒˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒœãƒ¼ãƒ‰ãªã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ
ã¡ãªã¿ã«å±Šã„ãŸã¨ãä½•ã‚‚ç´™é¡ã‚‚å…¥ã£ã¦ãªãã€ç®±ã¯é©å½“ãªé–¢ä¿‚ãªã„å•†å“ã®æ®µãƒœãƒ¼ãƒ«ã«ãƒ—ãƒãƒ—ãƒã§å·»ã‹ã‚Œã¦é€ã‚‰ã‚Œã¦ãã¾ã—ãŸã€‚

http://en.inexbot.com/product/controlSys/34.html

(è¿½è¨˜)ã‚ˆãè¦‹ã‚‹ã¨ECAT-IO-R4(çº³åšç‰¹IO_R4ä½¿ç”¨è¯´æ˜ä¹¦)ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®æ–¹ãŒåŸºæ¿ãŒä¼¼ã¦ã„ã‚‹ã€‚åŸºæ¿ã‚’çœºã‚ã¦ã‚‚TTL-485å¤‰æ›ã‚‰ã—ãã‚‚ã®ãŒè¦‹å½“ãŸã‚‰ãªã„ã®ã§
http://en.inexbot.com/manual/

# æ§‹æˆ
```
Microchip LAN9252(EtherCAT Slave Controller)
STMicroelectronics STM32F407 VET6(STM32 ARM Cortex-M4,168MHz,FLASH 512KB,RAM 192KB)
Texas Instruments ISO1050(Isolated CAN Transceiver)
```
LAN9252ã¨ã„ã†å‰²ã¨å®šç•ªã®ã‚„ã¤ãªã‚“ã§ãªã‚“ã‹ã¡ã‚ƒã‚“ã¨ä½¿ãˆãã†ã€‚ãƒ¯ã‚¯ãƒ¯ã‚¯ï¼¾ï¼¾
1ä¸‡ä»¥ä¸‹ã®EtherCATãƒœãƒ¼ãƒ‰ã ã¨Aliexpressã®å†™çœŸè¦‹ã‚‹æ„Ÿã˜ã§ã¯ASIX AX58100ãŒå¤šã„ã€‚
æ¬¡äººæŸ±ã§è²·ã†ãªã‚‰ASIX AX58100ã®æ¿€å®‰(6000å††å°)ã®ã‚„ã¤è©¦ã—ã¦ã¿ãŸã„

DINãƒ¬ãƒ¼ãƒ«ã«ãƒã‚¦ãƒ³ãƒˆã§ãã‚‹ã‚±ãƒ¼ã‚¹ä»˜ãã§ã™ï¼ˆè£å´ã®ã¿ï¼‰
![DSC_0376.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2146151/172d26d5-a465-f375-5b4e-4bc8c796eaf1.jpeg)
![DSC_0383.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2146151/be627e56-b997-a988-e174-bac25f1a9a18.jpeg)

#æ¥ç¶šã—ã¦ã¿ã‚‹
é›»æºã¯ç«¯ã®4Pinã‚³ãƒã‚¯ã‚¿ã§é€šä¿¡å›è·¯ã¯+24V/GNDã€IOé–¢ä¿‚ã¯VCC,VSSã«é›»æºä¾›çµ¦ã—ãªã„ã¨ã„ã‘ãªã„ã€‚
VCC,VSSã‚’ã¤ãªã’ãªã„ã¨LEDã‚‚ãƒªãƒ¬ãƒ¼ã‚‚å‹•ã‹ãªã„ã€‚

TwinCat3ã«æ¥ç¶šã—ã¦ã¿ã¦ã‚¹ã‚­ãƒ£ãƒ³ã—ãŸã‚‰ã“ã®ã‚ˆã†ã«èªè­˜ã—ãŸ

```
INEXBOT-IO-R2
VendorID:0x25(Inexbot NanJing Technology Co., Ltd.)
ProductCode:0x519
RevisionNo:0x1
```
|Object|åç§°|bit|èª¬æ˜|ç¯„å›²|
| :--- |  :---  | :--- | :--- | :--- |
|0x7011|DO_OUTPUTS|16bit|ãƒ‡ã‚¸ã‚¿ãƒ«å‡ºåŠ› Y01-Y16|0-0xFFFF|
|0x7012|DA1_OUTPUTS|16bit|ã‚¢ãƒŠãƒ­ã‚°å‡ºåŠ›ãƒãƒ£ãƒ³ãƒãƒ«1|0-0x0FFF(4095)|
|0x7013|DA2_OUTPUTS|16bit|ã‚¢ãƒŠãƒ­ã‚°å‡ºåŠ›ãƒãƒ£ãƒ³ãƒãƒ«2|0-0x0FFF(4095)|
|0x6001|DI_INPUTS|16bit|ãƒ‡ã‚¸ã‚¿ãƒ«å…¥åŠ› X01-X16|0-0xFFFF|
|0x6002|AD1_INPUTS|16bit|ã‚¢ãƒŠãƒ­ã‚°å…¥åŠ›ãƒãƒ£ãƒ³ãƒãƒ«1|0-0x0FFF(4095)|
|0x6003|AD2_INPUTS|16bit|ã‚¢ãƒŠãƒ­ã‚°å…¥åŠ›ãƒãƒ£ãƒ³ãƒãƒ«2|0-0x0FFF(4095)|
|0x6004|ENCODER|32bit|ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ã®ABç›¸ã‚«ã‚¦ãƒ³ãƒˆ|0-6000|

CANã¨RS-485ã¯ã©ã“ã¸ï¼Ÿ

TwinCat->TwinCat(Configãƒ¢ãƒ¼ãƒ‰)->ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ãƒ¢ãƒ¼ãƒ‰
DO_OUTPUTSã«æ›¸ã„ã¦ã¿ã‚‹
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2146151/cac4e8d1-fbe4-9d8d-8f18-9e9713d7e4b8.png)

ã‚„ã£ãŸã­ï¼¾ï¼¾
![IMG_20211103_083737.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2146151/97f9a804-134c-554f-90ab-c52f1de9cc3f.jpeg)

# TwinCat3ã¨EtherCAT

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã¯æ—¥æœ¬èªã‚µã‚¤ãƒˆã‚’ã¿ã¦ã‚„ã‚Šã¾ã™

https://sites.google.com/site/twincathowto/home

EtherCATã¨ã¯ã«ã¤ã„ã¦ã¯ã“ã®é€£è¼‰ã‚’ä¸€é€šã‚Šèª­ã‚€ã¨ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™

https://eetimes.itmedia.co.jp/ee/series/1861/

TwinCat3ã¯PCã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ€ãƒ—ã‚¿ã®ãƒ‰ãƒ©ã‚¤ãƒã‚’TwinCATç”¨ã«ç½®ãæ›ãˆã¾ã™ã€‚
å•é¡Œã¯Intelç³»ä»¥å¤–ã®LANã«ã¯å¯¾å¿œã—ã¦ãªã„ã‚ˆã†ã§ã™ã€‚
USBæ¥ç¶šã®LANã‚¢ãƒ€ãƒ—ã‚¿ã‚‚å¯¾å¿œã£ã¦æ›¸ã„ã¦ã‚ã‚‹ã‘ã©æ‰‹æŒã¡ã®ã‚„ã¤ã¯å…¨éƒ¨ãƒ‰ãƒ©ã‚¤ãƒå…¥ã‚Œã‚ˆã†ã¨ã™ã‚‹ã¨BSODã«ãªã‚Šã¾ã—ãŸã€‚

https://sites.google.com/site/twincathowto/insutoruto-ji-ben-she-ding/riarutaimuisanettodoraibanoinsutoru

ä¸­å¤ã§è²·ã£ãŸLet's note NX4(CF-NX4ED6CS)ã¯IntelÂ® Ethernet Connection I218-LMãªã®ã§ä½¿ãˆã¾ã—ãŸã€‚
æœ€è¿‘ã¯LANãŒãªã„ãƒãƒ¼ãƒˆãŒå¤šã„ã®ã§æ³¨æ„ã§ã™ã­
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2146151/82d5f24c-8daa-14c1-e0dd-06f44811f485.png)





